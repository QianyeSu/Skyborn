/* Custom CSS for Sphinx Book Theme - Blue theme with animations */

/* ========== ä¸»é¢˜é¢œè‰²é…ç½® ========== */
:root {
    --primary-color: #2563eb;      /* è“è‰²ä¸»è‰²è°ƒ */
    --secondary-color: #1e40af;    /* æ·±è“è‰² */
    --accent-color: #3b82f6;       /* äº®è“è‰² */
    --light-blue: #dbeafe;         /* æµ…è“è‰²èƒŒæ™¯ */
    --dark-blue: #1e3a8a;          /* æ·±è“è‰² */
    --gradient-blue: linear-gradient(135deg, #2563eb, #3b82f6);
    --gradient-blue-deep: linear-gradient(135deg, #1e40af 0%, #2563eb 50%, #3b82f6 100%);
    --gradient-blue-light: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 50%, #93c5fd 100%);
    --shadow-blue: rgba(37, 99, 235, 0.3);
    --shadow-blue-light: rgba(37, 99, 235, 0.15);
    --shadow-blue-hover: rgba(37, 99, 235, 0.5);
}

/* ========== é¡µé¢æ•´ä½“æ ·å¼ ========== */
.bd-main .bd-content .bd-article-container {
    background: var(--gradient-blue-light);
    border-radius: 12px;
    padding: 2rem;
    box-shadow: 0 8px 30px var(--shadow-blue-light),
                0 2px 8px rgba(0, 0, 0, 0.1);
    position: relative;
    overflow: hidden;
}

.bd-main .bd-content .bd-article-container::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: var(--gradient-blue-deep);
    z-index: 1;
}

/* ========== å¯¼èˆªæ æ ·å¼ ========== */
.bd-header {
    background: var(--gradient-blue-deep) !important;
    border-bottom: 3px solid var(--dark-blue);
    transition: all 0.3s ease;
    box-shadow: 0 4px 20px var(--shadow-blue);
}

.bd-header:hover {
    transform: translateY(-1px);
    box-shadow: 0 8px 35px var(--shadow-blue-hover);
}

/* ========== å¤´éƒ¨æŒ‰é’®åŒºåŸŸå¯¹é½ ========== */
.bd-header-article {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    min-height: 60px;
    padding: 0.5rem 1rem;
}

.header-article-items {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
}

.header-article-items__start,
.header-article-items__end {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.header-article-items__end {
    margin-left: auto;
}

/* æ–‡ç« å¤´éƒ¨æŒ‰é’®åŒºåŸŸ */
.article-header-buttons {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

/* æ‰€æœ‰å¤´éƒ¨æŒ‰é’®çš„é€šç”¨æ ·å¼ */
.article-header-buttons .btn,
.article-header-buttons .dropdown-toggle {
    background: transparent !important;
    border: none !important;
    border-radius: 8px !important;
    color: white !important;
    padding: 0.5rem 0.8rem !important;
    font-size: 0.9rem !important;
    transition: all 0.3s ease !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    text-decoration: none !important;
    height: 40px !important;
    min-height: 40px !important;
    min-width: 40px !important;
    width: auto !important;
    white-space: nowrap !important;
}

.article-header-buttons .btn:hover,
.article-header-buttons .dropdown-toggle:hover {
    background: rgba(255, 255, 255, 0.1) !important;
    transform: translateY(-2px) !important;
    color: white !important;
}

/* ä¸»é¢˜åˆ‡æ¢æŒ‰é’®ç‰¹æ®Šæ ·å¼ */
.theme-switch-button {
    background: transparent !important;
    border: none !important;
    border-radius: 8px !important;
    color: white !important;
    padding: 0.5rem 0.8rem !important;
    font-size: 0.9rem !important;
    transition: all 0.3s ease !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    text-decoration: none !important;
    height: 40px !important;
    min-height: 40px !important;
    min-width: 40px !important;
    width: auto !important;
    white-space: nowrap !important;
}

.theme-switch-button:hover {
    background: rgba(255, 255, 255, 0.1) !important;
    transform: translateY(-2px) !important;
    color: white !important;
}

/* ç¡®ä¿æŒ‰é’®å›¾æ ‡é¢œè‰²æ­£ç¡® */
.article-header-buttons .btn i,
.article-header-buttons .dropdown-toggle i,
.theme-switch-button i {
    color: white !important;
}

/* éšè—ä¸‹æ‹‰èœå•ä¸­çš„ç‰¹å®šæŒ‰é’® */
.dropdown-source-buttons .btn-source-file-button,
.dropdown-source-buttons .btn-source-edit-button {
    display: none !important;
}

/* ç¡®ä¿æ‰€æœ‰å¤´éƒ¨æŒ‰é’®å‚ç›´å¯¹é½ */
.bd-navbar,
.bd-navbar .navbar-nav,
.bd-header .navbar-nav {
    display: flex;
    align-items: center;
    height: 100%;
}

/* ========== ä¾§è¾¹æ æ ·å¼ ========== */
.bd-sidebar-primary {
    background: var(--gradient-blue-light);
    border-right: 3px solid white;
    box-shadow: 4px 0 15px var(--shadow-blue-light);
    position: relative;
}

.bd-sidebar-primary::before {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    width: 3px;
    height: 100%;
    background: white;
    z-index: 1;
}

.bd-sidebar-primary .bd-sidebar {
    background: transparent;
}

/* ä¾§è¾¹æ æ‰€æœ‰æ–‡å­—åŠ ç²— */
.bd-sidebar-primary,
.bd-sidebar-primary a,
.bd-sidebar-primary .toctree-l1 > a,
.bd-sidebar-primary .toctree-l2 > a,
.bd-sidebar-primary .caption,
.bd-sidebar-primary .caption-text,
.bd-sidebar-primary li,
.bd-sidebar-primary p,
.bd-sidebar-primary span {
    font-weight: 700 !important; /* ä½¿ç”¨æ›´ç²—çš„å­—ä½“ */
}

/* ä¾§è¾¹æ é“¾æ¥æ‚¬åœæ•ˆæœ */
.bd-sidebar-primary .toctree-l1 > a {
    transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    border-radius: 8px;
    margin: 4px 8px;
    padding: 8px 16px;
    position: relative;
    overflow: hidden;
}

.bd-sidebar-primary .toctree-l1 > a::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: var(--gradient-blue);
    transition: left 0.4s ease;
    z-index: -1;
}

.bd-sidebar-primary .toctree-l1 > a:hover::before {
    left: 0;
}

.bd-sidebar-primary .toctree-l1 > a:hover {
    color: white !important;
    transform: translateX(8px) scale(1.02);
    box-shadow: 0 6px 20px var(--shadow-blue);
}

/* ========== Notebookå›¾ç‰‡ä¼˜åŒ– ========== */
.nboutput img,
.cell_output img {
    max-width: 85% !important;
    height: auto !important;
    display: block !important;
    margin: 1.5rem auto !important;
    border: 3px solid var(--light-blue);
    border-radius: 16px;
    padding: 15px;
    background: var(--gradient-blue-light);
    box-shadow: 0 10px 40px var(--shadow-blue-light),
                0 4px 15px rgba(0, 0, 0, 0.1);
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    position: relative;
    cursor: pointer;
}

.nboutput img::before,
.cell_output img::before {
    content: '';
    position: absolute;
    top: -3px;
    left: -3px;
    right: -3px;
    bottom: -3px;
    background: var(--gradient-blue-deep);
    border-radius: 16px;
    z-index: -1;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.nboutput img:hover::before,
.cell_output img:hover::before {
    opacity: 1;
}

.nboutput img:hover,
.cell_output img:hover {
    transform: scale(1.03) translateY(-5px);
    box-shadow: 0 20px 60px var(--shadow-blue),
                0 8px 25px rgba(0, 0, 0, 0.15);
    border-color: var(--primary-color);
}

/* ========== é€šç”¨å›¾ç‰‡æ ·å¼ - åº”ç”¨notebookå›¾ç‰‡æ•ˆæœåˆ°æ‰€æœ‰å›¾ç‰‡ ========== */
/* æ’é™¤notebookå›¾ç‰‡ï¼Œå› ä¸ºå®ƒä»¬å·²ç»æœ‰ç‰¹å®šæ ·å¼ */
img:not(.nboutput img):not(.cell_output img):not(.bd-header img):not(.bd-sidebar img) {
    max-width: 90% !important;
    height: auto !important;
    display: block !important;
    margin: 1.5rem auto !important;
    border: 3px solid var(--light-blue);
    border-radius: 16px;
    padding: 15px;
    background: var(--gradient-blue-light);
    box-shadow: 0 10px 40px var(--shadow-blue-light),
                0 4px 15px rgba(0, 0, 0, 0.1);
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    position: relative;
    cursor: pointer;
}

/* é€šç”¨å›¾ç‰‡çš„æ‚¬åœå‰æ™¯æ•ˆæœ */
img:not(.nboutput img):not(.cell_output img):not(.bd-header img):not(.bd-sidebar img)::before {
    content: '';
    position: absolute;
    top: -3px;
    left: -3px;
    right: -3px;
    bottom: -3px;
    background: var(--gradient-blue-deep);
    border-radius: 16px;
    z-index: -1;
    opacity: 0;
    transition: opacity 0.3s ease;
}

/* é€šç”¨å›¾ç‰‡çš„æ‚¬åœæ•ˆæœ */
img:not(.nboutput img):not(.cell_output img):not(.bd-header img):not(.bd-sidebar img):hover::before {
    opacity: 1;
}

img:not(.nboutput img):not(.cell_output img):not(.bd-header img):not(.bd-sidebar img):hover {
    transform: scale(1.03) translateY(-5px);
    box-shadow: 0 20px 60px var(--shadow-blue),
                0 8px 25px rgba(0, 0, 0, 0.15);
    border-color: var(--primary-color);
}

/* ç‰¹æ®Šå¤„ç†ï¼šæ–‡æ¡£ä¸­çš„å›¾ç‰‡ */
.bd-content img,
.bd-article img,
article img,
.document img {
    max-width: 90% !important;
    height: auto !important;
    display: block !important;
    margin: 1.5rem auto !important;
    border: 3px solid var(--light-blue);
    border-radius: 16px;
    padding: 15px;
    background: var(--gradient-blue-light);
    box-shadow: 0 10px 40px var(--shadow-blue-light),
                0 4px 15px rgba(0, 0, 0, 0.1);
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    position: relative;
    cursor: pointer;
}

.bd-content img::before,
.bd-article img::before,
article img::before,
.document img::before {
    content: '';
    position: absolute;
    top: -3px;
    left: -3px;
    right: -3px;
    bottom: -3px;
    background: var(--gradient-blue-deep);
    border-radius: 16px;
    z-index: -1;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.bd-content img:hover::before,
.bd-article img:hover::before,
article img:hover::before,
.document img:hover::before {
    opacity: 1;
}

.bd-content img:hover,
.bd-article img:hover,
article img:hover,
.document img:hover {
    transform: scale(1.03) translateY(-5px);
    box-shadow: 0 20px 60px var(--shadow-blue),
                0 8px 25px rgba(0, 0, 0, 0.15);
    border-color: var(--primary-color);
}

/* æ’é™¤å°å›¾æ ‡å’Œè£…é¥°æ€§å›¾ç‰‡ */
.bd-header img,
.bd-sidebar img,
.bd-footer img,
img[width="16"],
img[width="20"],
img[width="24"],
img[width="32"],
img[height="16"],
img[height="20"],
img[height="24"],
img[height="32"],
.icon img,
.logo img {
    border: none !important;
    border-radius: 0 !important;
    padding: 0 !important;
    background: none !important;
    box-shadow: none !important;
    transition: none !important;
    cursor: default !important;
    margin: 0 !important;
    max-width: none !important;
    display: inline !important;
}

/* å›¾ç‰‡è¯´æ˜æ–‡å­—æ ·å¼ */
.figure-caption,
.caption,
figcaption {
    text-align: center !important;
    font-style: italic !important;
    color: var(--secondary-color) !important;
    margin-top: 1rem !important;
    font-size: 0.9em !important;
}

/* ========== ä»£ç å—æ ·å¼ ========== */
.nbinput .highlight pre,
.nboutput .highlight pre,
.cell_input .highlight pre,
.cell_output .highlight pre {
    background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%) !important;
    border-left: 4px solid var(--primary-color);
    border-radius: 12px;
    padding: 1.5rem;
    transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    box-shadow: 0 4px 15px var(--shadow-blue-light),
                0 2px 8px rgba(0, 0, 0, 0.05);
    position: relative;
    overflow: hidden;
}

.nbinput .highlight pre::before,
.cell_input .highlight pre::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 4px;
    height: 100%;
    background: var(--gradient-blue-deep);
    transform: scaleY(0);
    transform-origin: bottom;
    transition: transform 0.3s ease;
}

.nbinput .highlight pre:hover::before,
.cell_input .highlight pre:hover::before {
    transform: scaleY(1);
}

.nbinput .highlight pre:hover,
.cell_input .highlight pre:hover {
    transform: translateX(8px) translateY(-2px);
    box-shadow: 0 8px 30px var(--shadow-blue),
                0 4px 15px rgba(0, 0, 0, 0.1);
}

/* è¾“å…¥å•å…ƒæ ¼ï¼šè“è‰²ä¸»é¢˜ */
.cell_input {
    background: var(--gradient-blue-light);
    border-left: 4px solid var(--primary-color);
    border-radius: 12px;
    margin-bottom: 1rem;
    transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    box-shadow: 0 4px 15px var(--shadow-blue-light);
    position: relative;
    overflow: hidden;
}

.cell_input::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
    transition: left 0.6s ease;
}

.cell_input:hover::before {
    left: 100%;
}

.cell_input:hover {
    transform: translateY(-4px) scale(1.01);
    box-shadow: 0 12px 40px var(--shadow-blue),
                0 6px 20px rgba(0, 0, 0, 0.1);
}

/* è¾“å‡ºå•å…ƒæ ¼ï¼šè“ç»¿è‰²ä¸»é¢˜ */
.cell_output {
    background: linear-gradient(135deg, #ecfdf5 0%, #d1fae5 50%, #a7f3d0 100%);
    border-left: 4px solid #10b981;
    border-radius: 12px;
    margin-bottom: 1.2rem;
    transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    box-shadow: 0 4px 15px rgba(16, 185, 129, 0.2);
    position: relative;
    overflow: hidden;
}

.cell_output::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
    transition: left 0.6s ease;
}

.cell_output:hover::before {
    left: 100%;
}

.cell_output:hover {
    transform: translateY(-4px) scale(1.01);
    box-shadow: 0 12px 40px rgba(16, 185, 129, 0.3),
                0 6px 20px rgba(0, 0, 0, 0.1);
}

/* ========== æŒ‰é’®æ ·å¼ ========== */
/* æ’é™¤å¤´éƒ¨æŒ‰é’®çš„å…¨å±€æŒ‰é’®æ ·å¼ */
.btn:not(.bd-header .btn):not(.bd-navbar .btn),
.bd-button:not(.bd-header .bd-button):not(.bd-navbar .bd-button) {
    background: white !important;
    border: none !important;
    border-radius: 10px !important;
    color: var(--primary-color) !important;
    padding: 0.6rem 1.2rem !important;
    transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275) !important;
    position: relative !important;
    overflow: hidden !important;
    box-shadow: 0 4px 15px var(--shadow-blue) !important;
    font-weight: 500 !important;
}

.btn:not(.bd-header .btn):not(.bd-navbar .btn)::before,
.bd-button:not(.bd-header .bd-button):not(.bd-navbar .bd-button)::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
    transition: left 0.6s ease;
}

.btn:not(.bd-header .btn):not(.bd-navbar .btn):hover::before,
.bd-button:not(.bd-header .bd-button):not(.bd-navbar .bd-button):hover::before {
    left: 100%;
}

.btn:not(.bd-header .btn):not(.bd-navbar .btn):hover,
.bd-button:not(.bd-header .bd-button):not(.bd-navbar .bd-button):hover {
    background: var(--primary-color) !important;
    color: white !important;
    transform: translateY(-3px) scale(1.05) !important;
    box-shadow: 0 12px 35px var(--shadow-blue-hover) !important;
}

/* æŒ‰é’®ç‚¹å‡»åŠ¨ç”» */
.btn:not(.bd-header .btn):not(.bd-navbar .btn):active,
.bd-button:not(.bd-header .bd-button):not(.bd-navbar .bd-button):active {
    transform: translateY(-1px) scale(1.02) !important;
    box-shadow: 0 6px 20px var(--shadow-blue) !important;
}

/* ========== é“¾æ¥æ ·å¼ ========== */
a {
    color: var(--primary-color) !important;
    text-decoration: none !important;
    transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275) !important;
    position: relative !important;
}

a::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 0;
    width: 0;
    height: 2px;
    background: var(--gradient-blue);
    transition: width 0.3s ease;
}

a:hover::after {
    width: 100%;
}

a:hover {
    color: var(--secondary-color) !important;
    text-shadow: 0 0 12px var(--shadow-blue) !important;
    transform: translateY(-1px) !important;
}

/* ========== æ ‡é¢˜æ ·å¼ ========== */
h1, h2, h3, h4, h5, h6 {
    color: var(--secondary-color) !important;
    text-shadow: 0 3px 8px rgba(0, 0, 0, 0.1) !important;
    transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275) !important;
    position: relative !important;
}

h1::before, h2::before, h3::before {
    content: '';
    position: absolute;
    left: -10px;
    top: 50%;
    transform: translateY(-50%);
    width: 4px;
    height: 0;
    background: var(--gradient-blue-deep);
    transition: height 0.3s ease;
    border-radius: 2px;
}

h1:hover::before, h2:hover::before, h3:hover::before {
    height: 70%;
}

h1:hover, h2:hover, h3:hover {
    transform: translateX(8px) !important;
    color: var(--primary-color) !important;
    text-shadow: 0 4px 12px var(--shadow-blue) !important;
}

/* ========== å“åº”å¼è®¾è®¡ ========== */
@media (max-width: 768px) {
    .nboutput img,
    .cell_output img {
        max-width: 95% !important;
        margin: 0.5rem auto !important;
    }

    .bd-main .bd-content .bd-article-container {
        padding: 1rem;
    }
}

/* ========== åŠ¨ç”»å…³é”®å¸§ ========== */
@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes pulse {
    0%, 100% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.05);
    }
}

/* é¡µé¢åŠ è½½åŠ¨ç”» */
.bd-article {
    animation: fadeInUp 0.6s ease-out;
}

/* Notebookå•å…ƒæ ¼å‡ºç°åŠ¨ç”» */
.cell {
    animation: fadeInUp 0.4s ease-out;
    margin-bottom: 1.8rem;
}

/* ========== æ»šåŠ¨æ¡æ ·å¼ ========== */
/* æ•´ä½“æ»šåŠ¨æ¡ */
::-webkit-scrollbar {
    width: 12px;
    height: 12px;
}

/* æ»šåŠ¨æ¡è½¨é“ */
::-webkit-scrollbar-track {
    background: var(--light-blue);
    border-radius: 6px;
}

/* æ»šåŠ¨æ¡æ»‘å— */
::-webkit-scrollbar-thumb {
    background: #6b7280 !important; /* ç°è‰²æ»‘å— */
    border-radius: 6px;
    border: 2px solid var(--light-blue);
    transition: background 0.3s ease;
}

/* æ»šåŠ¨æ¡æ»‘å—æ‚¬åœæ•ˆæœ */
::-webkit-scrollbar-thumb:hover {
    background: #4b5563 !important; /* æ·±ç°è‰²æ‚¬åœ */
}

/* ä¾§è¾¹æ ä¸“ç”¨æ»šåŠ¨æ¡ */
.bd-sidebar-primary ::-webkit-scrollbar {
    width: 8px;
}

.bd-sidebar-primary ::-webkit-scrollbar-track {
    background: transparent;
}

.bd-sidebar-primary ::-webkit-scrollbar-thumb {
    background: #9ca3af !important; /* æµ…ç°è‰²æ»‘å— */
    border-radius: 4px;
    border: none;
}

.bd-sidebar-primary ::-webkit-scrollbar-thumb:hover {
    background: #6b7280 !important; /* æ·±ç°è‰²æ‚¬åœ */
}

/* Firefox æ»šåŠ¨æ¡æ ·å¼ */
* {
    scrollbar-width: thin;
    scrollbar-color: #6b7280 var(--light-blue);
}

.bd-sidebar-primary * {
    scrollbar-color: #9ca3af transparent;
}

/* ========== æ–‡æœ¬æº¢å‡ºå¤„ç† ========== */
/* é˜²æ­¢æ–‡æœ¬è¶…å‡ºå®¹å™¨ */
.bd-content {
    word-wrap: break-word !important;
    word-break: break-word !important;
    overflow-wrap: break-word !important;
    hyphens: auto !important;
}

/* APIæ–‡æ¡£å’Œä»£ç æ–‡æ¡£çš„æ–‡æœ¬å¤„ç† */
.sig-name,
.sig-prename,
.highlight .n,
.highlight .na,
.highlight .nb,
.highlight .nc,
.highlight .no,
.highlight .nd,
.highlight .ni,
.highlight .ne,
.highlight .nf,
.highlight .nl,
.highlight .nn,
.highlight .nt,
.highlight .nv {
    word-wrap: break-word !important;
    word-break: break-all !important;
    overflow-wrap: break-word !important;
}

/* å‡½æ•°ç­¾åå’Œå‚æ•°çš„å¤„ç† */
.sig-param {
    word-wrap: break-word !important;
    word-break: break-all !important;
    overflow-wrap: break-word !important;
    max-width: 100% !important;
    display: inline-block !important;
}

/* ä»£ç å—å†…çš„é•¿è¡Œå¤„ç† */
.highlight pre,
.highlight code,
pre,
code {
    white-space: pre-wrap !important;
    word-wrap: break-word !important;
    word-break: break-all !important;
    overflow-wrap: break-word !important;
    max-width: 100% !important;
    overflow-x: auto !important;
    scrollbar-width: thin !important;
}

/* è¡¨æ ¼å†…å®¹çš„å¤„ç† */
table {
    table-layout: auto !important;
    width: 100% !important;
    max-width: 100% !important;
    overflow-x: auto !important;
    display: block !important;
    white-space: nowrap !important;
}

table td,
table th {
    word-wrap: break-word !important;
    word-break: break-word !important;
    overflow-wrap: break-word !important;
    max-width: 200px !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    vertical-align: top !important;
    padding: 8px !important;
}

/* é•¿URLå’Œé“¾æ¥çš„å¤„ç† */
a[href] {
    word-wrap: break-word !important;
    word-break: break-all !important;
    overflow-wrap: break-word !important;
    max-width: 100% !important;
}

/* æ–‡æ¡£æ ‡é¢˜å’Œæ ‡ç­¾çš„å¤„ç† */
.sig-prename,
.descname {
    word-wrap: break-word !important;
    word-break: break-all !important;
    overflow-wrap: break-word !important;
    max-width: 100% !important;
}

/* å‚æ•°åˆ—è¡¨çš„å¤„ç† */
.field-list,
.field-list .field-name,
.field-list .field-body {
    word-wrap: break-word !important;
    word-break: break-word !important;
    overflow-wrap: break-word !important;
    max-width: 100% !important;
}

/* Notebookå•å…ƒæ ¼å†…å®¹çš„ç‰¹æ®Šå¤„ç† */
.nbinput .highlight pre,
.nboutput .highlight pre,
.cell_input .highlight pre,
.cell_output .highlight pre {
    white-space: pre-wrap !important;
    word-wrap: break-word !important;
    word-break: break-all !important;
    overflow-wrap: break-word !important;
    max-width: 100% !important;
    overflow-x: auto !important;
    scrollbar-width: thin !important;
    scrollbar-color: var(--primary-color) var(--light-blue) !important;
}

/* å†…è”ä»£ç çš„å¤„ç† */
code {
    white-space: normal !important;
    word-wrap: break-word !important;
    word-break: break-all !important;
    overflow-wrap: break-word !important;
    background-color: #f8fafc !important;
    padding: 2px 4px !important;
    border-radius: 4px !important;
    border: 1px solid var(--light-blue) !important;
}

/* è­¦å‘Šå’Œæç¤ºæ¡†çš„æ–‡æœ¬å¤„ç† */
.admonition,
.attention,
.caution,
.danger,
.error,
.hint,
.important,
.note,
.seealso,
.tip,
.warning {
    word-wrap: break-word !important;
    word-break: break-word !important;
    overflow-wrap: break-word !important;
    max-width: 100% !important;
    overflow: hidden !important;
}

/* ä¿®å¤APIæ–‡æ¡£ä¸­çš„é•¿å‡½æ•°å */
.signature {
    word-wrap: break-word !important;
    word-break: break-all !important;
    overflow-wrap: break-word !important;
    white-space: pre-wrap !important;
    max-width: 100% !important;
    overflow-x: auto !important;
    background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%) !important;
    padding: 10px !important;
    border-radius: 6px !important;
    border-left: 4px solid var(--primary-color) !important;
    margin: 10px 0 !important;
}

/* å“åº”å¼è¡¨æ ¼ */
.table-responsive {
    display: block !important;
    width: 100% !important;
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch !important;
}

/* ç¡®ä¿å®¹å™¨ä¸ä¼šè¶…å‡ºè§†å£ */
.bd-article-container,
.bd-content,
.bd-main {
    max-width: 100% !important;
    overflow-x: hidden !important;
}

/* ç§»åŠ¨è®¾å¤‡ä¸Šçš„ç‰¹æ®Šå¤„ç† */
@media (max-width: 768px) {
    table td,
    table th {
        max-width: 120px !important;
        font-size: 0.9em !important;
    }

    .signature {
        font-size: 0.8em !important;
        padding: 8px !important;
    }

    code {
        font-size: 0.85em !important;
        padding: 1px 3px !important;
    }
}

/* ä¸‹æ‹‰èœå•æ ·å¼ - ç¡®ä¿å­æŒ‰é’®å®½åº¦ä¸€è‡´ */
.article-header-buttons .dropdown-menu {
    z-index: 1050 !important;
    position: absolute !important;
    background: white !important;
    border: none !important;
    border-radius: 8px !important;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15) !important;
    min-width: 120px !important;
    overflow: visible !important;
    padding: 0.5rem 0 !important;
}

.article-header-buttons .dropdown-item {
    color: var(--primary-color) !important;
    padding: 0.5rem 1rem !important;
    transition: all 0.3s ease !important;
    display: block !important;
    width: 100% !important;
    text-align: left !important;
    white-space: nowrap !important;
    border: none !important;
    background: none !important;
}

.article-header-buttons .dropdown-item:hover {
    background: var(--light-blue) !important;
    color: var(--secondary-color) !important;
}

/* ç¡®ä¿ä¸‹æ‹‰æŒ‰é’®å®¹å™¨ä¸ä¼šè¢«æˆªæ–­ */
.bd-header .navbar-nav,
.bd-header .nav-item,
.dropdown {
    overflow: visible !important;
    height: auto !important;
}

/* ========== Darkæ¨¡å¼æ”¯æŒ ========== */
/* Darkæ¨¡å¼ä¸‹çš„ä¸»é¢˜é¢œè‰²é…ç½® */
[data-theme="dark"] {
    --primary-color: #60a5fa;      /* æµ…è“è‰²ä¸»è‰²è°ƒ */
    --secondary-color: #3b82f6;    /* ä¸­è“è‰² */
    --accent-color: #1d4ed8;       /* æ·±è“è‰² */
    --light-blue: #1e293b;         /* æ·±è‰²èƒŒæ™¯ */
    --dark-blue: #0f172a;          /* æ›´æ·±çš„èƒŒæ™¯ */
    --gradient-blue: linear-gradient(135deg, #1e293b, #334155);
    --gradient-blue-deep: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);
    --gradient-blue-light: linear-gradient(135deg, #1e293b 0%, #334155 50%, #475569 100%);
    --shadow-blue: rgba(96, 165, 250, 0.2);
    --shadow-blue-light: rgba(96, 165, 250, 0.1);
    --shadow-blue-hover: rgba(96, 165, 250, 0.3);
}

/* Darkæ¨¡å¼ä¸‹çš„é¡µé¢æ•´ä½“æ ·å¼ */
[data-theme="dark"] .bd-main .bd-content .bd-article-container {
    background: var(--gradient-blue-light) !important;
    color: #e2e8f0 !important;
}

/* Darkæ¨¡å¼ä¸‹çš„å¯¼èˆªæ æ ·å¼ */
[data-theme="dark"] .bd-header {
    background: var(--gradient-blue-deep) !important;
    border-bottom: 3px solid var(--dark-blue) !important;
}

/* Darkæ¨¡å¼ä¸‹çš„ä¾§è¾¹æ æ ·å¼ */
[data-theme="dark"] .bd-sidebar-primary {
    background: var(--gradient-blue-light) !important;
    border-right: 3px solid #334155 !important;
}

[data-theme="dark"] .bd-sidebar-primary::before {
    background: #334155 !important;
}

/* Darkæ¨¡å¼ä¸‹çš„ä¾§è¾¹æ æ–‡å­—é¢œè‰² */
[data-theme="dark"] .bd-sidebar-primary,
[data-theme="dark"] .bd-sidebar-primary a,
[data-theme="dark"] .bd-sidebar-primary .toctree-l1 > a,
[data-theme="dark"] .bd-sidebar-primary .toctree-l2 > a,
[data-theme="dark"] .bd-sidebar-primary .caption,
[data-theme="dark"] .bd-sidebar-primary .caption-text,
[data-theme="dark"] .bd-sidebar-primary li,
[data-theme="dark"] .bd-sidebar-primary p,
[data-theme="dark"] .bd-sidebar-primary span {
    color: #e2e8f0 !important;
}

/* Darkæ¨¡å¼ä¸‹çš„ä»£ç å—æ ·å¼ */
[data-theme="dark"] .nbinput .highlight pre,
[data-theme="dark"] .nboutput .highlight pre,
[data-theme="dark"] .cell_input .highlight pre,
[data-theme="dark"] .cell_output .highlight pre {
    background: linear-gradient(135deg, #1e293b 0%, #334155 100%) !important;
    color: #e2e8f0 !important;
}

/* Darkæ¨¡å¼ä¸‹çš„è¾“å…¥å•å…ƒæ ¼ */
[data-theme="dark"] .cell_input {
    background: var(--gradient-blue-light) !important;
    border-left: 4px solid var(--primary-color) !important;
}

/* Darkæ¨¡å¼ä¸‹çš„è¾“å‡ºå•å…ƒæ ¼ */
[data-theme="dark"] .cell_output {
    background: linear-gradient(135deg, #134e4a 0%, #1f2937 50%, #374151 100%) !important;
    border-left: 4px solid #10b981 !important;
}

/* Darkæ¨¡å¼ä¸‹çš„æ ‡é¢˜æ ·å¼ */
[data-theme="dark"] h1,
[data-theme="dark"] h2,
[data-theme="dark"] h3,
[data-theme="dark"] h4,
[data-theme="dark"] h5,
[data-theme="dark"] h6 {
    color: #f1f5f9 !important;
}

/* Darkæ¨¡å¼ä¸‹çš„é“¾æ¥æ ·å¼ */
[data-theme="dark"] a {
    color: var(--primary-color) !important;
}

/* Darkæ¨¡å¼ä¸‹çš„æŒ‰é’®æ ·å¼ */
[data-theme="dark"] .btn:not(.bd-header .btn):not(.bd-navbar .btn),
[data-theme="dark"] .bd-button:not(.bd-header .bd-button):not(.bd-navbar .bd-button) {
    background: #374151 !important;
    color: #e2e8f0 !important;
    border: 1px solid #4b5563 !important;
}

[data-theme="dark"] .btn:not(.bd-header .btn):not(.bd-navbar .btn):hover,
[data-theme="dark"] .bd-button:not(.bd-header .bd-button):not(.bd-navbar .bd-button):hover {
    background: var(--primary-color) !important;
    color: #1e293b !important;
}

/* Darkæ¨¡å¼ä¸‹çš„ä¸‹æ‹‰èœå•æ ·å¼ */
[data-theme="dark"] .article-header-buttons .dropdown-menu {
    background: #374151 !important;
    border: 1px solid #4b5563 !important;
}

[data-theme="dark"] .article-header-buttons .dropdown-item {
    color: #e2e8f0 !important;
}

[data-theme="dark"] .article-header-buttons .dropdown-item:hover {
    background: #4b5563 !important;
    color: var(--primary-color) !important;
}

/* Darkæ¨¡å¼ä¸‹çš„å›¾ç‰‡æ ·å¼ */
[data-theme="dark"] .nboutput img,
[data-theme="dark"] .cell_output img {
    border: 3px solid #4b5563 !important;
    background: var(--gradient-blue-light) !important;
}

[data-theme="dark"] img:not(.nboutput img):not(.cell_output img):not(.bd-header img):not(.bd-sidebar img),
[data-theme="dark"] .bd-content img,
[data-theme="dark"] .bd-article img,
[data-theme="dark"] article img,
[data-theme="dark"] .document img {
    border: 3px solid #4b5563 !important;
    background: var(--gradient-blue-light) !important;
}

/* Darkæ¨¡å¼ä¸‹çš„æ»šåŠ¨æ¡æ ·å¼ */
[data-theme="dark"] ::-webkit-scrollbar-track {
    background: #1e293b !important;
}

[data-theme="dark"] ::-webkit-scrollbar-thumb {
    background: #4b5563 !important;
    border: 2px solid #1e293b !important;
}

[data-theme="dark"] ::-webkit-scrollbar-thumb:hover {
    background: #6b7280 !important;
}

/* Darkæ¨¡å¼ä¸‹çš„Firefoxæ»šåŠ¨æ¡ */
[data-theme="dark"] * {
    scrollbar-color: #4b5563 #1e293b !important;
}

/* Darkæ¨¡å¼ä¸‹çš„å†…è”ä»£ç  */
[data-theme="dark"] code {
    background-color: #374151 !important;
    color: #e2e8f0 !important;
    border: 1px solid #4b5563 !important;
}

/* Darkæ¨¡å¼ä¸‹çš„è­¦å‘Šå’Œæç¤ºæ¡† */
[data-theme="dark"] .admonition,
[data-theme="dark"] .attention,
[data-theme="dark"] .caution,
[data-theme="dark"] .danger,
[data-theme="dark"] .error,
[data-theme="dark"] .hint,
[data-theme="dark"] .important,
[data-theme="dark"] .note,
[data-theme="dark"] .seealso,
[data-theme="dark"] .tip,
[data-theme="dark"] .warning {
    background: #374151 !important;
    color: #e2e8f0 !important;
    border: 1px solid #4b5563 !important;
}

/* Darkæ¨¡å¼ä¸‹çš„è¡¨æ ¼æ ·å¼ */
[data-theme="dark"] table {
    background: #374151 !important;
    color: #e2e8f0 !important;
}

[data-theme="dark"] table td,
[data-theme="dark"] table th {
    border: 1px solid #4b5563 !important;
    background: #374151 !important;
    color: #e2e8f0 !important;
}

/* Darkæ¨¡å¼ä¸‹çš„å›¾ç‰‡è¯´æ˜æ–‡å­— */
[data-theme="dark"] .figure-caption,
[data-theme="dark"] .caption,
[data-theme="dark"] figcaption {
    color: #94a3b8 !important;
}

/* ========== Last Updated Date Styling ========== */
.last-updated {
    font-size: 0.85em;
    color: var(--pst-color-text-muted);
    margin-top: 2rem;
    padding-top: 1rem;
    border-top: 1px solid var(--pst-color-border);
    text-align: center;
}

.last-updated:before {
    content: "ğŸ“… ";
    margin-right: 0.5rem;
}

/* Dark mode support for last updated */
[data-theme="dark"] .last-updated {
    color: var(--pst-color-text-muted);
    border-top-color: var(--pst-color-border);
}

/* Footer last updated styling */
.bd-footer .last-updated {
    border-top: none;
    margin-top: 0;
    padding-top: 0;
    font-size: 0.8em;
}

/* Sphinx last updated styling */
.bd-footer-content .last-updated,
.bd-footer-content div:contains("Last updated"),
.bd-footer-content div[class*="last-updated"] {
    color: var(--pst-color-text-muted);
    font-size: 0.85em;
    margin-top: 0.5rem;
}

/* ========== Enhanced Button Styles ========== */

/* ========== Header Logo/Title Click to Home ========== */
/* å·¦ä¸Šè§’æ ‡é¢˜ç‚¹å‡»å›åˆ°é¦–é¡µåŠŸèƒ½ */
.bd-header .navbar-brand,
.bd-header .navbar-brand:hover,
.bd-header .navbar-brand:focus,
.bd-header .navbar-brand:active {
    color: white !important;
    text-decoration: none !important;
    cursor: pointer !important;
    transition: all 0.3s ease !important;
}

/* ç‚¹å‡»æ•ˆæœ */
.bd-header .navbar-brand:hover {
    transform: scale(1.05) !important;
    text-shadow: 0 0 20px rgba(255, 255, 255, 0.8) !important;
}

/* æ·»åŠ JavaScriptåŠŸèƒ½ï¼Œè®©æ ‡é¢˜ç‚¹å‡»å›åˆ°é¦–é¡µ */
.bd-header .navbar-brand {
    position: relative;
}

.bd-header .navbar-brand::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 0;
    width: 0;
    height: 2px;
    background: white;
    transition: width 0.3s ease;
}

.bd-header .navbar-brand:hover::after {
    width: 100%;
}

/* ç¡®ä¿æ ‡é¢˜å¯ç‚¹å‡» */
.bd-header .navbar-brand {
    pointer-events: auto !important;
}

/* æ ‡é¢˜æ–‡å­—æ ·å¼å¢å¼º */
.bd-header .navbar-brand .navbar-text {
    color: white !important;
    font-weight: 600 !important;
    letter-spacing: 0.5px !important;
}

/* å“åº”å¼æ ‡é¢˜æ ·å¼ */
@media (max-width: 768px) {
    .bd-header .navbar-brand {
        font-size: 1.1rem !important;
    }
}
